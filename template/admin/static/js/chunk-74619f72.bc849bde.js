(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-74619f72"],{1:function(t,e){},1170:function(t,e,a){},2:function(t,e){},3:function(t,e){},ad3a:function(t,e,a){"use strict";a.r(e),a("386d");var n=a("21a6"),l=a.n(n),i=a("1146"),s=a.n(i),o=a("4328"),r=a.n(o),c={data:function(){return{dialogFormVisible:!1,query:{pageIndex:1,pageSize:10,count:100},search:{out_trade_no:"",status:null},tableData:[],edit_id:null,multipleSelection:[],delList:[],user:{},formLabelWidth:"120px"}},created:function(){this.getData()},methods:{exportExcel:function(){var t=new Date,e=t.getFullYear()+""+(t.getMonth()+1)+t.getDate(),a=s.a.utils.table_to_book(document.querySelector(".table")),n=s.a.write(a,{bookType:"xlsx",bookSST:!0,type:"array"});try{l.a.saveAs(new Blob([n],{type:"application/octet-stream"}),e+".xlsx")}catch(t){}return n},getData:function(){var t=this;this.$axios.get("/getAdminOrderList",{params:{page:this.query.pageIndex,eachPageNum:this.query.pageSize}}).then(function(e){t.tableData=e.data.data,t.query.count=e.data.count}).catch(function(t){})},getSearchData:function(){var t=this;this.$axios.get("/getAdminSearchOrderList",{params:{order_no:this.search.out_trade_no,status:this.search.status,page:this.query.pageIndex,eachPageNum:this.query.pageSize}}).then(function(e){t.tableData=e.data.data,t.query.count=e.data.count}).catch(function(t){})},handleSearch:function(){this.$set(this.query,"pageIndex",1),this.getSearchData()},handleDelete:function(t,e){var a=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then(function(){var n=[e.id];a.delSingleSelection(n),a.tableData.splice(t,1)}).catch(function(){})},handleSelectionChange:function(t){this.multipleSelection=t},delSingleSelection:function(t){var e=this;this.$axios({method:"post",url:"/delOrderAll",headers:{"content-type":"application/json"},data:t}).then(function(t){e.$message.error(t.data.msg),e.getData()}).catch(function(t){})},delAllSelection:function(){for(var t=this,e=new Array(this.multipleSelection.length),a=0;a<this.multipleSelection.length;a++)e[a]=this.multipleSelection[a].id;this.$axios({method:"post",url:"/delOrderAll",headers:{"content-type":"application/json"},data:e}).then(function(e){t.$message.error(e.data.msg),t.getData()}).catch(function(t){})},handleEdit:function(t,e){this.dialogFormVisible=!0,this.edit_id=e.id,this.getUser()},saveEdit:function(){var t=this;this.$axios.post("/setUser",r.a.stringify(this.user)).then(function(e){t.$message({message:e.data.msg,type:"success"})}).catch(function(t){})},handlePageChange:function(t){this.$set(this.query,"pageIndex",t),this.getData()}}},u=(a("ddad"),a("2877")),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:t.delAllSelection}},[t._v("批量删除")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(e){return t.exportExcel()}}},[t._v("导出excel")]),a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"订单支付情况"},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},[a("el-option",{key:"100",attrs:{label:"全部",value:"100"}}),a("el-option",{key:"1",attrs:{label:"支付成功",value:"1"}}),a("el-option",{key:"0",attrs:{label:"未支付",value:"0"}})],1),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"订单编号"},model:{value:t.search.out_trade_no,callback:function(e){t.$set(t.search,"out_trade_no",e)},expression:"search.out_trade_no"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v("搜索")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"id",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"user_id",label:"商户id"}}),a("el-table-column",{attrs:{prop:"order_no",label:"订单编号"}}),a("el-table-column",{attrs:{prop:"money",label:"金额"}}),a("el-table-column",{attrs:{label:"支付类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.pay_act_type?"success":"danger"}},[t._v(t._s(1==e.row.pay_act_type?"支付宝":2==e.row.pay_act_type?"微信":"QQ支付"))])]}}])}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名",align:"center"}}),a("el-table-column",{attrs:{prop:"pay_tag",label:"商品备注",align:"center"}}),a("el-table-column",{attrs:{label:"支付状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1==e.row.status?"success":"danger"}},[t._v(t._s(1==e.row.status?"已支付":0==e.row.status?"未支付":"未知状态"))])]}}])}),a("el-table-column",{attrs:{prop:"time",label:"创建时间",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.query.pageIndex,"page-size":t.query.pageSize,total:t.query.count},on:{"current-change":t.handlePageChange}})],1)],1)])},[],!1,null,"0b0efcf2",null);e.default=d.exports},ddad:function(t,e,a){"use strict";var n=a("1170");a.n(n).a}}]);