(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0ccfa8"],{"4fdd":function(t,e,a){"use strict";a.r(e);var i={name:"setting",data:function(){return{name:"测试",loading:!1,email:{}}},methods:{test:function(){var t=this;this.loading=!0,this.name="发送中",this.$axios.post("/sendMail",{to:this.email.email,title:"测试",content:"这是一封测试邮件！"}).then(function(e){200===e.data.code?(t.$message.success("测试成功！"),t.loading=!1,t.name="测试"):(t.$message.error("发送失败！"),t.loading=!1,t.name="测试")}).catch(function(t){})},getEmailData:function(){var t=this;this.$axios.get("/getEmail").then(function(e){200!==e.data.code?t.$message.error(e.data.msg):t.email=e.data.data}).catch(function(e){t.$message.error(e)})},onSubmit:function(){var t=this;this.$axios({method:"post",url:"/setEmail",headers:{"content-type":"application/json"},data:this.email}).then(function(e){t.$message.success(e.data.msg)}).catch(function(t){})}},created:function(){this.getEmailData()}},n=a("2877"),l=Object(n.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{attrs:{"label-width":"auto"}},[a("el-form-item",{attrs:{label:"SMTP地址"}},[a("el-input",{model:{value:t.email.smtp,callback:function(e){t.$set(t.email,"smtp",e)},expression:"email.smtp"}})],1),a("el-form-item",{attrs:{label:"端口"}},[a("el-input",{model:{value:t.email.smtp_port,callback:function(e){t.$set(t.email,"smtp_port",e)},expression:"email.smtp_port"}})],1),a("el-form-item",{attrs:{label:"邮箱账号"}},[a("el-input",{model:{value:t.email.email,callback:function(e){t.$set(t.email,"email",e)},expression:"email.email"}})],1),a("el-form-item",{attrs:{label:"邮箱授权码"}},[a("el-input",{model:{value:t.email.smtp_password,callback:function(e){t.$set(t.email,"smtp_password",e)},expression:"email.smtp_password"}})],1),a("el-form-item",{attrs:{label:"邮箱昵称"}},[a("el-input",{model:{value:t.email.name,callback:function(e){t.$set(t.email,"name",e)},expression:"email.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.test()}}},[t._v(t._s(t.name))]),a("el-button",{attrs:{type:"primary",size:"medium",round:""},on:{click:function(e){return t.onSubmit()}}},[t._v("保存")])],1)],1)],1)])])},[],!1,null,null,null);e.default=l.exports}}]);